<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="referrer" content="no-referrer">
    <title>En Vivo | ARNOLDSPORTS</title>
    
    <link rel="icon" href="mi_logo.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;800&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <div class="container header-content">
            <a href="agenda.html" class="logo">
                <i class="fa-solid fa-arrow-left"></i> VOLVER A LA AGENDA
            </a>
            <div class="live-badge"><div class="live-dot"></div> TRANSMISIÓN HD</div>
        </div>
    </header>

    <main class="container" style="margin-top: 30px; min-height: 80vh;">
        
        <section class="top-video-section">
            <div class="Match-title">
                <i class="fa-solid fa-play-circle"></i>
                <span id="canal-titulo">CARGANDO SEÑAL...</span>
            </div>
            
            <div class="video-frame" id="video-container" style="position: relative; overflow: hidden; padding-bottom: 56.25%; height: 0;">
                
                <div id="fake-poster" class="fake-poster" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; cursor: pointer; background: #000;">
                    <img id="canal-img-poster" src="" alt="Poster" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3256/3256086.png'" style="width: 100%; height: 100%; object-fit: cover; opacity: 0.7;">
                    <div class="play-button" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"><i class="fa-solid fa-play"></i></div>
                </div>
                
                <div id="click-shield" title="Bloqueador de Anuncios Activado" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 75%; z-index: 5; background: transparent;"></div>
                
                <iframe id="live-iframe" src="" allow="autoplay; fullscreen; encrypted-media; picture-in-picture" allowfullscreen referrerpolicy="no-referrer" scrolling="no" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; z-index: 1; background: #000;"></iframe>
            </div>
        </section>

        <section class="glass-panel" style="margin-top: 30px; margin-bottom: 50px;">
            <h3 class="panel-header" style="justify-content: center; font-size: 1.4rem;">
                <i class="fa-solid fa-hand-holding-heart"></i> Apoya al Cervecero
            </h3>
            <p class="donation-desc">Si te gusta la transmisión, apóyanos para mantener los servidores activos y sin publicidad.</p>
            <div class="donations-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                <div class="premium-card card-yape" onclick="copyText('930169320', 'Yape')">
                    <div class="card-left">
                        <div class="payment-img-box"><img src="yape.png" alt="Yape" class="payment-logo" onerror="this.src='mi_logo.png'"></div>
                        <div class="card-details"><h4>Yape</h4><span class="card-number">930 169 320</span></div>
                    </div>
                    <div class="copy-action"><i class="fa-regular fa-copy"></i> Copiar</div>
                </div>
                <div class="premium-card card-agora" onclick="copyText('930169320', 'Agora')">
                    <div class="card-left">
                        <div class="payment-img-box"><img src="agorapay.png" alt="Agora" class="payment-logo" onerror="this.src='mi_logo.png'"></div>
                        <div class="card-details"><h4>Agora</h4><span class="card-number">930 169 320</span></div>
                    </div>
                    <div class="copy-action"><i class="fa-regular fa-copy"></i> Copiar</div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container footer-content">
            <div class="footer-logo">© 2026 ARNOLDSPORTS</div>
        </div>
    </footer>

    <div id="premiumToast" class="toast-premium"><i id="toastIcon" class="fa-solid fa-circle-check toast-icon-success"></i><span id="toastMessage"></span></div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const stream = urlParams.get('url');
            const nombre = urlParams.get('nombre');
            const logo = urlParams.get('logo');

            if (stream) {
                if (nombre) document.getElementById('canal-titulo').innerText = nombre.toUpperCase();
                if (logo && logo !== 'undefined') document.getElementById('canal-img-poster').src = logo;

                const fakePoster = document.getElementById('fake-poster');
                const liveIframe = document.getElementById('live-iframe');
                const clickShield = document.getElementById('click-shield');

                fakePoster.addEventListener('click', function() {
                    // 1. Ocultamos la portada
                    fakePoster.style.display = 'none';
                    // 2. Activamos el escudo protector de clics
                    if(clickShield) clickShield.style.display = 'block';
                    // 3. Cargamos el video (que ya no tiene sandbox, así que cargará sí o sí)
                    liveIframe.src = stream;
                });
            }
        });
    </script>
</body>
</html>
